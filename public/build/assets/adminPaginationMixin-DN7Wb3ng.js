const h={data(){return{currentPage:1,perPage:10,perPageOptions:[10,25,50,100,500],pagination:{current_page:1,last_page:1,per_page:10,total:0},search:"",sortBy:null,sortDirection:"asc",loading:!1,saving:!1}},methods:{onPerPageChange(){this.currentPage=1,this.loadData&&this.loadData()},showSuccess(t){window.Toast?window.Toast.fire({icon:"success",title:t}):alert(t)},showError(t){window.Toast?window.Toast.fire({icon:"error",title:t}):alert(t)},formatDate(t){return t?new Date(t).toLocaleDateString():"-"},formatDateTime(t){return t?new Date(t).toLocaleString():"-"},getAuthToken(){return localStorage.getItem("admin_token")},getAuthHeaders(){return{Authorization:`Bearer ${this.getAuthToken()}`}},buildPaginationParams(t={}){const e={page:this.currentPage,per_page:this.perPage,...t};return this.sortBy&&(e.sort_by=this.sortBy,e.sort_direction=this.sortDirection),e},updatePagination(t){t&&(this.pagination={current_page:t.current_page||1,last_page:t.last_page||1,per_page:t.per_page||this.perPage,total:t.total||0})},resetPagination(){this.currentPage=1},handleApiError(t,e="An error occurred"){var o,n,c,g;console.error("API Error:",t);let s=e;if((n=(o=t.response)==null?void 0:o.data)!=null&&n.errors){const a=t.response.data.errors,i=[];Object.keys(a).forEach(r=>{Array.isArray(a[r])?i.push(`${r}: ${a[r][0]}`):i.push(`${r}: ${a[r]}`)}),s=i.join(`
`)}else(g=(c=t.response)==null?void 0:c.data)!=null&&g.message?s=t.response.data.message:t.message&&(s=t.message);this.showError(s)},handleSort(t){this.sortBy===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortBy=t,this.sortDirection="asc"),this.currentPage=1},getSortIcon(t){return this.sortBy!==t?"mdi-sort":this.sortDirection==="asc"?"mdi-sort-ascending":"mdi-sort-descending"},resetSorting(){this.sortBy=null,this.sortDirection="asc"}}};export{h as a};
